spring:
  config:
    activate:
      on-profile: test


  # TestContainer에서 DB 설정은 자동 주입되므로 생략 가능
  datasource:
    # CI 환경에서는 환경변수로, 로컬에서는 Testcontainers로
    url: ${SPRING_DATASOURCE_URL:jdbc:tc:postgresql:14.17-alpine:///testdb}
    username: ${SPRING_DATASOURCE_USERNAME:test}
    password: ${SPRING_DATASOURCE_PASSWORD:test}
    driver-class-name: org.postgresql.Driver

  jpa:
    hibernate:
      ddl-auto: create-drop
      naming: # DB 컬럼명: "authorName" (그대로)
        physical-strategy: org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl

    properties:
      hibernate:
        use_sql_comments: true # SQL에 JPQL 주석 추가
        format_sql: true # 로그에 찍히는 SQL을 예쁘게(줄바꿈/들여쓰기) 포맷
        highlight_sql: true # 색상까지

logging.level:
  org.hibernate.SQL: debug # SQL 본문
  org.hibernate.orm.jdbc.bind: trace # 바인딩값


server:
  servlet:
    context-path: /v2

# AWS 설정 (테스트용 더미 값)
aws:
  region: ap-northeast-2
  credentials:
    access-key: test-access-key
    secret-key: test-secret-key
  bucket:
    image: test-bucket
    dir: test/

# Internal API 설정 (테스트용 더미 값)
internal:
  playground:
    url: http://localhost:8081
    token: test-playground-token
  crew:
    url: http://localhost:8082  # 이 값이 중요!
    token: test-crew-token
  auth:
    url: http://localhost:8083
    api-key: test-auth-key
    service-name: test-service

# Official API Key (테스트용 더미 값)
official:
  apikey: test-official-api-key

jwt:
  access: GbdlzvZ1iE5e13etDEBaZOM12hGehXXBET0mee+tt12=
  refresh: JffNneL6pP2k6reteRoyE2k92cHdaUYHRGIloe+835M=
  admin: GbdlzvZ1iE5e13etDEBaZOM12hGehXXBET0mee+tt12=

